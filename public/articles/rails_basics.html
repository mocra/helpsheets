<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>
      Mocra Helpsheets
    </title>
    <link href="../css/style.css" rel="stylesheet" media="all" />
    <link href="../css/screen.css" rel="stylesheet" media="screen, projection" />
    <link href="../css/print.css" rel="stylesheet" media="print" />
    <link href="../css/coderay.css" rel="stylesheet" />
  </head>
  <body>
    <a href="../index.html" class="contents">contents</a>
    <div id="wrap">
      <div id="footer">
        <a href="http://mocra.com">
          <img src="../images/logo.png" />
        </a>
        Learn Ruby on Rails Course
        <div class="page"></div>
      </div>
      <div id="header">
        <h1>
          Ruby on Rails - Basics
        </h1>
      </div>
      <div id="article">
        <h2>Ruby on Rails &#8211; Basics</h2>
        <h3>Creating new Rails app</h3>
        <div class="CodeRay">
        <pre>$ rails myapp&#x000A;$ cd myapp&#x000A;$ rake</pre>
        </div>
        <p>The last line runs the (non-existent) test suite in your app. Why? Just to check that default configuration is working to databases etc.</p>
        <h3>Commands</h3>
        <p>Two sets of commands:</p>
        <ol>
        	<li>rake tasks</li>
        	<li>scripts</li>
        </ol>
        <p>Available rake tasks, and an example usage:</p>
        <div class="CodeRay">
        <pre>$ rake -T&#x000A;$ rake routes</pre>
        </div>
        <p>Available scripts, and an example usage:</p>
        <p class="sidenote">Windows: &#8216;ls -al&#8217; equivalent to &#8216;dir&#8217;</p>
        <div class="CodeRay">
        <pre>$ ls -al scripts/&#x000A;$ script/server</pre>
        </div>
        <h3>Generators</h3>
        <p>Great way to learn Rails is to use generators.</p>
        <div class="CodeRay">
        <pre>$ script/generate&#x000A;$ script/generate model Tweet message:string user_id:integer&#x000A;$ rake db:migrate</pre>
        </div>
        <p>View each generated file to see what is generated!</p>
        <h2>Active Record Association</h2>
        <blockquote>
        <p>&#8220;Why do we need associations between models? Because they make common operations simpler and easier in your code.&#8221;</p>
        </blockquote>
        <p>Using twitter as an example, to setup basic <em>Active Record Association&#8217;s</em> add the following.</p>
        <div class="CodeRay">
        <pre><span class="c"># /model/user.rb</span>&#x000A;<span class="r">class</span> <span class="cl">User</span> &lt; <span class="co">ActiveRecord</span>::<span class="co">Base</span>&#x000A;  has_many <span class="sy">:tweets</span>&#x000A;<span class="r">end</span>&#x000A;&#x000A;<span class="c"># /model/tweet.rb</span>&#x000A;<span class="r">class</span> <span class="cl">Tweet</span> &lt; <span class="co">ActiveRecord</span>::<span class="co">Base</span>&#x000A;  belongs_to <span class="sy">:user</span>&#x000A;<span class="r">end</span></pre>
        </div>
        <p>Then in the database the tweet column must have user_id to record the relationship.</p>
      </div>
    </div>
  </body>
</html>
