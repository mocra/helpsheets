<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>
      Mocra Helpsheets
    </title>
    <link href="../css/style.css" rel="stylesheet" media="all" />
    <link href="../css/screen.css" rel="stylesheet" media="screen, projection" />
    <link href="../css/print.css" rel="stylesheet" media="print" />
    <link href="../css/coderay.css" rel="stylesheet" />
  </head>
  <body>
    <div id="wrap">
      <div id="footer">
        <a href="http://mocra.com">
          <img src="../images/logo.png" />
        </a>
        Learn Ruby on Rails Course
        <div class="page"></div>
      </div>
      <div id="header">
        <h1>
          Ruby - Basics
        </h1>
      </div>
      <div id="article">
        <p class="sidenote">Interactive Ruby Shell</p>
        <p>To show off the basics of ruby you can jump straight into the ruby console. Do so by opening terminal (or the console2 program we installed earlier if you&#8217;re on a PC) and typing:</p>
        <p><code>irb</code></p>
        <p>You can then run ruby code right in terminal (or console2). You can copy in multiple lines at a time, try out some of the examples below.</p>
        <h2>Methods</h2>
        <h3>Without arguments</h3>
        <p class="sidenote">Parenthesis are often optional.</p>
        <div class="CodeRay">
        <pre><span class="r">def</span> <span class="fu">hello_world</span>&#x000A;  print <span class="s"><span class="dl">&quot;</span><span class="k">Hello </span><span class="dl">&quot;</span></span>&#x000A;  puts(<span class="s"><span class="dl">&quot;</span><span class="k">World!</span><span class="dl">&quot;</span></span>)&#x000A;<span class="r">end</span>&#x000A;hello_world&#x000A;<span class="c">#=&gt; Hello World!</span>&#x000A;hello_world()&#x000A;<span class="c">#=&gt; Hello World!</span></pre>
        </div>
        <p><code>print</code> and <code>puts</code> are similar &#8211; the latter adds an new-line character.</p>
        <h3>With arguments</h3>
        <p class="sidenote">Use lowercase_and_underscores for variables and methods.</p>
        <div class="CodeRay">
        <pre><span class="r">def</span> <span class="fu">hello_world</span>(name)&#x000A;  puts <span class="s"><span class="dl">&quot;</span><span class="k">Hello </span><span class="il"><span class="idl">#{</span>name<span class="idl">}</span></span><span class="k">!</span><span class="dl">&quot;</span></span>&#x000A;<span class="r">end</span>&#x000A;hello_world(<span class="s"><span class="dl">&quot;</span><span class="k">World</span><span class="dl">&quot;</span></span>)&#x000A;<span class="c">#=&gt; Hello World!</span></pre>
        </div>
        <h3>With default arguments</h3>
        <div class="CodeRay">
        <pre><span class="r">def</span> <span class="fu">hello_world</span>(name = <span class="s"><span class="dl">&quot;</span><span class="k">World</span><span class="dl">&quot;</span></span>)&#x000A;  puts <span class="s"><span class="dl">&quot;</span><span class="k">Hello </span><span class="il"><span class="idl">#{</span>name.capitalize<span class="idl">}</span></span><span class="k">!</span><span class="dl">&quot;</span></span>&#x000A;<span class="r">end</span>&#x000A;hello_world <span class="s"><span class="dl">&quot;</span><span class="k">odin</span><span class="dl">&quot;</span></span>&#x000A;<span class="c">#=&gt; Hello Odin!</span>&#x000A;hello_world&#x000A;<span class="c">#=&gt; Hello World!</span></pre>
        </div>
        <h2>Classes</h2>
        <h3>Class definition</h3>
        <p class="sidenote">Class names must be in CamelCase</p>
        <div class="CodeRay">
        <pre><span class="r">class</span> <span class="cl">GreetWorld</span>&#x000A;  <span class="r">def</span> <span class="fu">initialize</span>(name = <span class="s"><span class="dl">&quot;</span><span class="k">World</span><span class="dl">&quot;</span></span>)&#x000A;    <span class="iv">@name</span> = name&#x000A;  <span class="r">end</span>&#x000A;  <span class="r">def</span> <span class="fu">say_hi</span>&#x000A;    puts <span class="s"><span class="dl">&quot;</span><span class="k">Hi </span><span class="il"><span class="idl">#{</span><span class="iv">@name</span><span class="idl">}</span></span><span class="k">!</span><span class="dl">&quot;</span></span>&#x000A;  <span class="r">end</span>&#x000A;  <span class="r">def</span> <span class="fu">say_bye</span>&#x000A;    puts <span class="s"><span class="dl">&quot;</span><span class="k">Bye </span><span class="il"><span class="idl">#{</span><span class="iv">@name</span><span class="idl">}</span></span><span class="k">, come back soon.</span><span class="dl">&quot;</span></span>&#x000A;  <span class="r">end</span>&#x000A;<span class="r">end</span></pre>
        </div>
        <h3>Creating objects (Instantiation)</h3>
        <div class="CodeRay">
        <pre>g = <span class="co">Greeter</span>.new(<span class="s"><span class="dl">&quot;</span><span class="k">Pat</span><span class="dl">&quot;</span></span>)&#x000A;<span class="c">#=&gt; #&lt;Greeter:0x16cac @name=&quot;Pat&quot;&gt;</span>&#x000A;g.say_hi&#x000A;<span class="c">#=&gt;Hi Pat!</span>&#x000A;g.say_bye&#x000A;<span class="c">#=&gt;Bye Pat, come back soon.</span></pre>
        </div>
        <h2>if, elsif, else statement</h2>
        <p class="sidenote">These logic statements are very similar in most programming languages</p>
        <div class="CodeRay">
        <pre>rails = <span class="s"><span class="dl">&quot;</span><span class="k">good</span><span class="dl">&quot;</span></span>&#x000A;<span class="r">if</span> rails == <span class="s"><span class="dl">&quot;</span><span class="k">awesome</span><span class="dl">&quot;</span></span>&#x000A;  print <span class="s"><span class="dl">&quot;</span><span class="k">Rails is awesome!</span><span class="dl">&quot;</span></span>&#x000A;<span class="r">elsif</span> rails == <span class="s"><span class="dl">&quot;</span><span class="k">really awesome!</span><span class="dl">&quot;</span></span>&#x000A;  print <span class="s"><span class="dl">&quot;</span><span class="k">Rails is really awesome!</span><span class="dl">&quot;</span></span>&#x000A;<span class="r">else</span>&#x000A;  print <span class="s"><span class="dl">&quot;</span><span class="k">Rails isn't awesome</span><span class="dl">&quot;</span></span>&#x000A;<span class="r">end</span></pre>
        </div>
        <h2>Strings</h2>
        <h3>Instant array of strings</h3>
        <div class="CodeRay">
        <pre>p <span class="s"><span class="dl">%w[</span><span class="k"> Bob Jim Joe </span><span class="dl">]</span></span>&#x000A;<span class="c">#=&gt; [&quot;Bob&quot;, &quot;Jim&quot;, &quot;Joe&quot;]</span></pre>
        </div>
        <h3>Types of strings</h3>
        <p class="sidenote">Interpolation is wonderful.</p>
        <p><code>'single quote'</code> and <code>"double quote"</code> are both normal strings. Double quotes allow interpolation of arbitrary ruby within the string:</p>
        <div class="CodeRay">
        <pre>quote = <span class="s"><span class="dl">&quot;</span><span class="k">This is a quote</span><span class="dl">&quot;</span></span>&#x000A;puts <span class="s"><span class="dl">'</span><span class="k">single quote: #{quote}</span><span class="dl">'</span></span>&#x000A;<span class="c">#=&gt; 'single quote: #{quote}'</span>&#x000A;puts <span class="s"><span class="dl">&quot;</span><span class="k">double quote: </span><span class="il"><span class="idl">#{</span>quote<span class="idl">}</span></span><span class="dl">&quot;</span></span>&#x000A;<span class="c">#=&gt; double quote: This is a quote</span>&#x000A;&#x000A;puts <span class="s"><span class="dl">&quot;</span><span class="k">1 + 1 = </span><span class="il"><span class="idl">#{</span><span class="i">1</span> + <span class="i">1</span><span class="idl">}</span></span><span class="dl">&quot;</span></span>&#x000A;<span class="c">#=&gt; 1 + 1 = 2</span></pre>
        </div>
        <h3>Multi-line strings</h3>
        <p>Want a block of text?</p>
        <div class="CodeRay">
        <pre>puts <span class="s"><span class="dl">&lt;&lt;-STRING</span></span><span class="s"><span class="k">&#x000A;This is a mulit-&#x000A;  line string.</span><span class="dl">&#x000A;STRING</span></span>&#x000A;<span class="c">#=&gt; This is a mulit-</span>&#x000A;<span class="c">#=&gt;   line string.</span></pre>
        </div>
        <p>The <code>STRING</code> can be anything but must be the same at start and end.</p>
        <h2>Regular expressions</h2>
        <p>A language within a language, regular expressions are powerful for processing text.</p>
        <p>You can use <code>(groups)</code> and they are populated into <code>$1</code>, <code>$2</code>, etc variables.</p>
        <div class="CodeRay">
        <pre>time_str = <span class="co">Time</span>.now.to_s&#x000A;puts time_str&#x000A;<span class="c">#=&gt; Thu Apr 08 16:05:34 +1000 2010</span>&#x000A;<span class="r">if</span> time_str =~ <span class="rx"><span class="dl">/</span><span class="k">(</span><span class="ch">\d</span><span class="k">+):(</span><span class="ch">\d</span><span class="k">+):(</span><span class="ch">\d</span><span class="k">+)</span><span class="dl">/</span></span>&#x000A;  p [<span class="gv">$1</span>, <span class="gv">$2</span>, <span class="gv">$3</span>]&#x000A;<span class="r">end</span>&#x000A;<span class="c">#=&gt; [&quot;16&quot;, &quot;08&quot;, &quot;45&quot;]</span></pre>
        </div>
        <h3>Replacement with gsub</h3>
        <div class="CodeRay">
        <pre><span class="s"><span class="dl">&quot;</span><span class="k">I am a happy man in a can!</span><span class="dl">&quot;</span></span>.gsub(<span class="rx"><span class="dl">/</span><span class="k">an</span><span class="dl">/</span></span>, <span class="s"><span class="dl">'</span><span class="k">aaaaan</span><span class="dl">'</span></span>)&#x000A;<span class="c">#=&gt; &quot;I am a happy maaaaan in a caaaaan!&quot;</span></pre>
        </div>
        <h3>Ternary operator</h3>
        <div class="CodeRay">
        <pre>time_str = <span class="co">Time</span>.now.to_s&#x000A;(time_str =~ <span class="rx"><span class="dl">/</span><span class="k">Mon</span><span class="dl">/</span></span>) ? <span class="s"><span class="dl">&quot;</span><span class="k">I hate Monday!</span><span class="dl">&quot;</span></span> : <span class="s"><span class="dl">&quot;</span><span class="k">Great!</span><span class="dl">&quot;</span></span>&#x000A;<span class="c">#=&gt; Great!</span></pre>
        </div>
        <h2>Loops</h2>
        <div class="CodeRay">
        <pre><span class="r">for</span> person <span class="r">in</span> [<span class="s"><span class="dl">&quot;</span><span class="k">Dr Nic</span><span class="dl">&quot;</span></span>, <span class="s"><span class="dl">&quot;</span><span class="k">Jack</span><span class="dl">&quot;</span></span>, <span class="s"><span class="dl">&quot;</span><span class="k">Odin</span><span class="dl">&quot;</span></span>]&#x000A;  puts person&#x000A;<span class="r">end</span>&#x000A;&#x000A;count = <span class="i">5</span>&#x000A;<span class="r">while</span> count &gt; <span class="i">0</span>&#x000A;  count -= <span class="i">1</span>&#x000A;  puts count&#x000A;<span class="r">end</span></pre>
        </div>
        <h2>Blocks</h2>
        <p>Pass some code when calling a method.</p>
        <div class="CodeRay">
        <pre><span class="i">5</span>.times <span class="r">do</span>&#x000A;  puts <span class="s"><span class="dl">&quot;</span><span class="k">Blocks are powerful</span><span class="dl">&quot;</span></span>&#x000A;<span class="r">end</span></pre>
        </div>
        <p>Your block of code can have arguments.</p>
        <div class="CodeRay">
        <pre><span class="i">0</span>.upto(<span class="i">5</span>) <span class="r">do</span> |i|&#x000A;  puts i&#x000A;<span class="r">end</span>&#x000A;&#x000A;<span class="i">5</span>.times <span class="r">do</span> |i|&#x000A;  puts <span class="s"><span class="dl">&quot;</span><span class="k">Blocks are powerful x </span><span class="il"><span class="idl">#{</span>i<span class="idl">}</span></span><span class="dl">&quot;</span></span>&#x000A;<span class="r">end</span></pre>
        </div>
        <h3>Better loops</h3>
        <div class="CodeRay">
        <pre><span class="s"><span class="dl">%w[</span><span class="k"> Bob Jim Joe </span><span class="dl">]</span></span>.each <span class="r">do</span> |name|&#x000A;  puts name&#x000A;<span class="r">end</span></pre>
        </div>
        <h3>Blocks with { }</h3>
        <p><code>{ ... }</code> and <code>do ...  end</code> are interchangeable.</p>
        <p class="sidenote">Typically, use the former for 1-liners.</p>
        <div class="CodeRay">
        <pre><span class="i">0</span>.times(<span class="i">5</span>) { |i| puts i }&#x000A;&#x000A;<span class="i">0</span>.times(<span class="i">5</span>) <span class="r">do</span> |i|&#x000A;  puts i&#x000A;<span class="r">end</span></pre>
        </div>
        <h3>Methods accepting blocks</h3>
        <p>The <code>yield</code> method invokes any block passed to the method; pass arguments as necessary.</p>
        <div class="CodeRay">
        <pre><span class="r">def</span> <span class="fu">this_many_times</span>(num)&#x000A;  num.times <span class="r">do</span> |counter|&#x000A;    <span class="r">yield</span>(counter)&#x000A;  <span class="r">end</span>&#x000A;<span class="r">end</span>&#x000A;&#x000A;this_many_times(<span class="i">3</span>) <span class="r">do</span> |i|&#x000A;  puts <span class="s"><span class="dl">&quot;</span><span class="k">Block called # </span><span class="il"><span class="idl">#{</span>i<span class="idl">}</span></span><span class="dl">&quot;</span></span>&#x000A;<span class="r">end</span>&#x000A;<span class="c">#=&gt; Block called # 0</span>&#x000A;<span class="c">#=&gt; Block called # 1</span>&#x000A;<span class="c">#=&gt; Block called # 2</span></pre>
        </div>
        <p>Test if a block is provided with <code>block_given?</code></p>
        <div class="CodeRay">
        <pre><span class="r">def</span> <span class="fu">this_many_times</span>(num)&#x000A;  <span class="r">if</span> block_given?&#x000A;    num.times <span class="r">do</span> |counter|&#x000A;      <span class="r">yield</span>(counter)&#x000A;    <span class="r">end</span>&#x000A;  <span class="r">else</span>&#x000A;    puts <span class="s"><span class="dl">&quot;</span><span class="k">No block passed!</span><span class="dl">&quot;</span></span>&#x000A;  <span class="r">end</span>&#x000A;<span class="r">end</span>&#x000A;this_many_times(<span class="i">5</span>) {|i| print i}&#x000A;<span class="c">#=&gt; 01234</span>&#x000A;this_many_times(<span class="i">5</span>)&#x000A;<span class="c">#=&gt; No block passed!</span></pre>
        </div>
        <h2>Got 15 minutes?</h2>
        <h3>Try Ruby in your browser</h3>
        <p>If you want to run through a basic ruby tutorial head over to <a href="http://tryruby.org/">tryruby.org</a> and try out ruby in your web browser!</p>
      </div>
    </div>
  </body>
</html>
